<?xml version="1.0" encoding="UTF-8"?>
<root>
    <interface>
        <action><![CDATA[
def precond(self):
    if self._npc.enemy:
        if self._npc.enemy == self._activator:
            self._npc.Say("Now you die!")
            return False
        else:
            self.dialog_close()

    return True
        ]]></action>
        <dialog name="hello">
            <message color="yellow">{npc.name} yawns sleepily.</message>
            <message>Hello {activator.name}, I am {npc.name}. So what brings you here?</message>
            <response message="Just exploring around..." destination="exploring" />
        </dialog>
        <dialog name="exploring">
            <message>*HIC* I see... I don't suppose you've come about the key. Sorry, I can't give that to you...</message>
            <response message="What key?" destination="key" />
            <response message="Have you been drinking?" destination="drinking" />
        </dialog>
        <dialog name="key">
            <message>I told you, can't give it to you. Don't even ask about it.</message>
            <response message="Have you been drinking?" destination="drinking" />
        </dialog>
        <dialog name="drinking">
            <message>... of course not, I'm on duty. What makes you think that?</message>
            <response message="You drunkard." destination="drunkard1" />
        </dialog>
        <dialog name="drunkard1">
            <message>What did you call me? I'm on duty here.</message>
            <response message="A drunk." destination="drunkard2" />
        </dialog>
        <dialog name="drunkard2">
            <message>I'm [b]NOT[/b] a drunk!</message>
            <response message="Yes you are." destination="drunkard3" />
        </dialog>
        <dialog name="drunkard3">
            <message>NO! I'm on DUTY here! I haven't been *HIC* drinking!</message>
            <response message="You're a drunkard." destination="drunkard4" />
        </dialog>
        <dialog name="drunkard4">
            <message>You can't prove that I'm a drunkard!</message>
            <response message="There's a beer barrel right next to you." destination="drunkard5" />
        </dialog>
        <dialog name="drunkard5">
            <message>That's *HIC* it! Call me a drunkard again and you'll die!</message>
            <response message="You're such a drunkard..." destination="drunkard6" />
        </dialog>
        <dialog name="drunkard6">
            <action><![CDATA[
self.dialog_close()
self._npc.Say("Now you've done it! Prepare to die!")
self._npc.enemy = self._activator
            ]]></action>
        </dialog>
    </interface>
</root>
